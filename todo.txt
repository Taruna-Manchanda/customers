app.js


var customersCollectionRef = db.collection('customers');
var DocumentRef = db.doc('users/alovelace');
const privKey="-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCkPggp4IkG4CII\njVB26f4n+NnZxA7xQA7pGT/nLWKR6Yhv7znb+mUHxrDx0V52VurGpE6isxRAevU9\nflRMjI5ynqB6spbcb3WKCiK/bVV2lTYDtCSt+nRKT6nBiLQMF/dpEvXHqVfYz+TD\nMblukpjN/1i/K6Mkt5uqJi+dmJuUGgxhB+ptuv0MQ9DDlOvOjQ9OJAQvvMQqg3Rs\nAI3WVK3hX325jFiar6nHiUjn63rVaHbGKUscxd5k+UOAfCpCFYLqhbn3i8aun0Qn\niJOyBpBK55XFdniU6/apQgmva1TSD5vfYY26l5vjFQv1rO+C9F8MTVgD/Ncupe3M\nrp6GMj+RAgMBAAECggEAHHsHRl/B0zflnu8GX4CHCp5sBIergak2jLRMsQVdPOku\nuB5XPa6ne1g4kc5ZH5NF5glS+4KrRd0sjqvL6XRMNVMNiAlVAMexLa1BRkmq0sPg\nGHdSDvtJ1CMJUF6ovhof1JAtn6Bdc+LlC/Yg7iwspDgdxxTFlxXhv/kcM6tleyJb\nvkGbhl25P4wACCllQ8Ieg5G/bn+jLzjpxEPO+cimV/6p4J6xxxDdSIkVK5KasW4r\n5VHQOot3BZsSgALUEE8VzPQQSSF2DlcxHn83nu7GK2kMbat7TnGp2BnBMg1AnnrA\nbu0oH9Ya+XtSSfFrqVtpBvPW56xPJ1zrdy2eX9luawKBgQDix1tbkGQD9HezCLHX\nXie7EOJ4YKNi/qwgsgNxRWcfQCcQkcnlBtOpgvtx3M9gshheonvJN6DRgrrG2uzx\nnR+4+r+4njq6j3a7/6Q3E0A53lU2PWSy57kiTZzhXhkOdeWFtiINu+pnQ9lO/nDX\nppLvEs//RrtTscSubqMZyfbF6wKBgQC5Z9DDQue5cFey0Q311WgDyy1RR7bvgbtN\n+nIs34IR8YmouD3XbkVkyEeQizutj3nUAkFbjBrvPNH20PAMgELteJFBLDmDshpd\nHXdPM9KCwG6mbZeAASHWlQdU5su10JsO0ERl90KgbkyxwMLu5t1vmyFI79KWOc5i\nuFy8YD1FcwKBgFFejKYnAev1XLmthforu3/AiDH/IsDTdjlpBhkveNfasemdFd8K\newnYiJYLT5F3dY0HKflB738dNB1D0j7DTO2XcxEwHQxxi33bNTXZv3LEFrkWgDo9\nMM1hIcgvdjgdD1TRzBg3c9zHmIJig2StTQ1hJ6aF35MhNtwLsJQBRn0vAoGAUQpF\nv/OwoeevDaQ/O+Mp8e6PQmXcWlgUbQM5gM+5ZOp0x2Cw90dl4aWBUnbpgPWjxL2v\nn7pf0458ICw3oN83YeE/bINOKHhi+ax1iBMYwromI2znubXE+qxtZfjztecWv6Td\nIMyxPLq5n0CodBBJXg0qwVzCaZOe2JvJPTW70m0CgYEAwpUrWuX9ecODS5VN6t6g\nXN/O8yqWl7tAltK4D7OD0gXWelPGvsheSCpg8lw5rTkKl0WsxGu+Hbq6SD+gUJSy\nrTs9BB4Pq50/yxxyT38d2hENxbl6PO+Czmr77/+1BEBHAMW2cxCX47poER2r4rkA\ncrWSGG+YvaP6WvMvyPI91lo=\n-----END PRIVATE KEY-----\n".replace(/\\n/g, '\n');
        const {Firestore} = require('@google-cloud/firestore');
        
        const db = new Firestore({
            projectId: 'alert-vortex-249014',
            credentials: {
                private_key: privKey,
                client_email: 'alert-vortex-249014@appspot.gserviceaccount.com'
            }
    create two endpoints
        POST /customers  -- create a new customer
            responses 
                201 -- for success creation
                400 -- bad request
                500 -- any other internal issue
        PUT /customers/{id}  -- create a new customer
            responses 
                200 -- for success creation
                400 -- bad request
                500 -- any other internal issue
        GET /customers?gender=male   -- return all customers
            responses  
                200 -- for success response
                204 -- no customer found
                400 -- bad request
                500 -- any other internal error
        GET /customers/{customerId}  -- return one customer
            responses  
                200 -- for success response
                404 -- customer not found
                400 -- bad request
                500 -- any other internal error


Postman collection to test all the above apis and their all response scenarios.

Swagger file for above APIs.


            
{
    "id" : "",
    "firstName" : "",
    "lastName" : "",
    "dob" : "",
    "gender" : "male | female | other",
    "email" : "",
    "mobile" : ""
    "addresses" : [
        {
            "id" : "",
            "streetName": "",
            "streetNUmber" : "",
            "postalCode" : "",
            "city" : "",
            "type" : "HOME | OFFICE"
        }

    ]


}